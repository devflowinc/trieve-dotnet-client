# trieve_dotnet_client.Api.MessageApi

All URIs are relative to *http://localhost:8090*

| Method | HTTP request | Description |
|--------|--------------|-------------|
| [**CreateMessageCompletionHandler**](MessageApi.md#createmessagecompletionhandler) | **POST** /api/message | Create a message |
| [**EditMessageHandler**](MessageApi.md#editmessagehandler) | **PUT** /api/message | Edit a message |
| [**GetAllTopicMessages**](MessageApi.md#getalltopicmessages) | **GET** /api/messages/{messages_topic_id} | Get all messages for a given topic |
| [**RegenerateMessageHandler**](MessageApi.md#regeneratemessagehandler) | **DELETE** /api/message | Regenerate message |

<a id="createmessagecompletionhandler"></a>
# **CreateMessageCompletionHandler**
> string CreateMessageCompletionHandler (string tRDataset, CreateMessageData createMessageData)

Create a message

Create a message  Create a message. Messages are attached to topics in order to coordinate memory of gen-AI chat sessions. We are considering refactoring this resource of the API soon. Currently, you can only send user messages. If the topic is a RAG topic then the response will include Chunks first on the stream. The structure will look like `[chunks]||mesage`. See docs.trieve.ai for more information.

### Example
```csharp
using System.Collections.Generic;
using System.Diagnostics;
using trieve_dotnet_client.Api;
using trieve_dotnet_client.Client;
using trieve_dotnet_client.Model;

namespace Example
{
    public class CreateMessageCompletionHandlerExample
    {
        public static void Main()
        {
            Configuration config = new Configuration();
            config.BasePath = "http://localhost:8090";
            // Configure API key authorization: ApiKey
            config.AddApiKey("Authorization", "YOUR_API_KEY");
            // Uncomment below to setup prefix (e.g. Bearer) for API key, if needed
            // config.AddApiKeyPrefix("Authorization", "Bearer");

            var apiInstance = new MessageApi(config);
            var tRDataset = "tRDataset_example";  // string | The dataset id to use for the request
            var createMessageData = new CreateMessageData(); // CreateMessageData | JSON request payload to create a message completion

            try
            {
                // Create a message
                string result = apiInstance.CreateMessageCompletionHandler(tRDataset, createMessageData);
                Debug.WriteLine(result);
            }
            catch (ApiException  e)
            {
                Debug.Print("Exception when calling MessageApi.CreateMessageCompletionHandler: " + e.Message);
                Debug.Print("Status Code: " + e.ErrorCode);
                Debug.Print(e.StackTrace);
            }
        }
    }
}
```

#### Using the CreateMessageCompletionHandlerWithHttpInfo variant
This returns an ApiResponse object which contains the response data, status code and headers.

```csharp
try
{
    // Create a message
    ApiResponse<string> response = apiInstance.CreateMessageCompletionHandlerWithHttpInfo(tRDataset, createMessageData);
    Debug.Write("Status Code: " + response.StatusCode);
    Debug.Write("Response Headers: " + response.Headers);
    Debug.Write("Response Body: " + response.Data);
}
catch (ApiException e)
{
    Debug.Print("Exception when calling MessageApi.CreateMessageCompletionHandlerWithHttpInfo: " + e.Message);
    Debug.Print("Status Code: " + e.ErrorCode);
    Debug.Print(e.StackTrace);
}
```

### Parameters

| Name | Type | Description | Notes |
|------|------|-------------|-------|
| **tRDataset** | **string** | The dataset id to use for the request |  |
| **createMessageData** | [**CreateMessageData**](CreateMessageData.md) | JSON request payload to create a message completion |  |

### Return type

**string**

### Authorization

[ApiKey](../README.md#ApiKey)

### HTTP request headers

 - **Content-Type**: application/json
 - **Accept**: text/plain, application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
| **200** | This will be a JSON response of a string containing the LLM&#39;s generated inference. Response if not streaming. |  -  |
| **400** | Service error relating to getting a chat completion |  -  |

[[Back to top]](#) [[Back to API list]](../README.md#documentation-for-api-endpoints) [[Back to Model list]](../README.md#documentation-for-models) [[Back to README]](../README.md)

<a id="editmessagehandler"></a>
# **EditMessageHandler**
> void EditMessageHandler (string tRDataset, EditMessageData editMessageData)

Edit a message

Edit a message  Edit a message which exists within the topic's chat history. This will delete the message and replace it with a new message. The new message will be generated by the AI based on the new content provided in the request body. The response will include Chunks first on the stream if the topic is using RAG. The structure will look like `[chunks]||mesage`. See docs.trieve.ai for more information.

### Example
```csharp
using System.Collections.Generic;
using System.Diagnostics;
using trieve_dotnet_client.Api;
using trieve_dotnet_client.Client;
using trieve_dotnet_client.Model;

namespace Example
{
    public class EditMessageHandlerExample
    {
        public static void Main()
        {
            Configuration config = new Configuration();
            config.BasePath = "http://localhost:8090";
            // Configure API key authorization: ApiKey
            config.AddApiKey("Authorization", "YOUR_API_KEY");
            // Uncomment below to setup prefix (e.g. Bearer) for API key, if needed
            // config.AddApiKeyPrefix("Authorization", "Bearer");

            var apiInstance = new MessageApi(config);
            var tRDataset = "tRDataset_example";  // string | The dataset id to use for the request
            var editMessageData = new EditMessageData(); // EditMessageData | JSON request payload to edit a message and get a new stream

            try
            {
                // Edit a message
                apiInstance.EditMessageHandler(tRDataset, editMessageData);
            }
            catch (ApiException  e)
            {
                Debug.Print("Exception when calling MessageApi.EditMessageHandler: " + e.Message);
                Debug.Print("Status Code: " + e.ErrorCode);
                Debug.Print(e.StackTrace);
            }
        }
    }
}
```

#### Using the EditMessageHandlerWithHttpInfo variant
This returns an ApiResponse object which contains the response data, status code and headers.

```csharp
try
{
    // Edit a message
    apiInstance.EditMessageHandlerWithHttpInfo(tRDataset, editMessageData);
}
catch (ApiException e)
{
    Debug.Print("Exception when calling MessageApi.EditMessageHandlerWithHttpInfo: " + e.Message);
    Debug.Print("Status Code: " + e.ErrorCode);
    Debug.Print(e.StackTrace);
}
```

### Parameters

| Name | Type | Description | Notes |
|------|------|-------------|-------|
| **tRDataset** | **string** | The dataset id to use for the request |  |
| **editMessageData** | [**EditMessageData**](EditMessageData.md) | JSON request payload to edit a message and get a new stream |  |

### Return type

void (empty response body)

### Authorization

[ApiKey](../README.md#ApiKey)

### HTTP request headers

 - **Content-Type**: application/json
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
| **200** | This will be a HTTP stream, check the chat or search UI for an example how to process this |  -  |
| **400** | Service error relating to getting a chat completion |  -  |

[[Back to top]](#) [[Back to API list]](../README.md#documentation-for-api-endpoints) [[Back to Model list]](../README.md#documentation-for-models) [[Back to README]](../README.md)

<a id="getalltopicmessages"></a>
# **GetAllTopicMessages**
> List&lt;Message&gt; GetAllTopicMessages (string tRDataset, Guid messagesTopicId)

Get all messages for a given topic

Get all messages for a given topic  Get all messages for a given topic. If the topic is a RAG topic then the response will include Chunks first on each message. The structure will look like `[chunks]||mesage`. See docs.trieve.ai for more information.

### Example
```csharp
using System.Collections.Generic;
using System.Diagnostics;
using trieve_dotnet_client.Api;
using trieve_dotnet_client.Client;
using trieve_dotnet_client.Model;

namespace Example
{
    public class GetAllTopicMessagesExample
    {
        public static void Main()
        {
            Configuration config = new Configuration();
            config.BasePath = "http://localhost:8090";
            // Configure API key authorization: ApiKey
            config.AddApiKey("Authorization", "YOUR_API_KEY");
            // Uncomment below to setup prefix (e.g. Bearer) for API key, if needed
            // config.AddApiKeyPrefix("Authorization", "Bearer");

            var apiInstance = new MessageApi(config);
            var tRDataset = "tRDataset_example";  // string | The dataset id to use for the request
            var messagesTopicId = "messagesTopicId_example";  // Guid | The ID of the topic to get messages for.

            try
            {
                // Get all messages for a given topic
                List<Message> result = apiInstance.GetAllTopicMessages(tRDataset, messagesTopicId);
                Debug.WriteLine(result);
            }
            catch (ApiException  e)
            {
                Debug.Print("Exception when calling MessageApi.GetAllTopicMessages: " + e.Message);
                Debug.Print("Status Code: " + e.ErrorCode);
                Debug.Print(e.StackTrace);
            }
        }
    }
}
```

#### Using the GetAllTopicMessagesWithHttpInfo variant
This returns an ApiResponse object which contains the response data, status code and headers.

```csharp
try
{
    // Get all messages for a given topic
    ApiResponse<List<Message>> response = apiInstance.GetAllTopicMessagesWithHttpInfo(tRDataset, messagesTopicId);
    Debug.Write("Status Code: " + response.StatusCode);
    Debug.Write("Response Headers: " + response.Headers);
    Debug.Write("Response Body: " + response.Data);
}
catch (ApiException e)
{
    Debug.Print("Exception when calling MessageApi.GetAllTopicMessagesWithHttpInfo: " + e.Message);
    Debug.Print("Status Code: " + e.ErrorCode);
    Debug.Print(e.StackTrace);
}
```

### Parameters

| Name | Type | Description | Notes |
|------|------|-------------|-------|
| **tRDataset** | **string** | The dataset id to use for the request |  |
| **messagesTopicId** | **Guid** | The ID of the topic to get messages for. |  |

### Return type

[**List&lt;Message&gt;**](Message.md)

### Authorization

[ApiKey](../README.md#ApiKey)

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
| **200** | All messages relating to the topic with the given ID |  -  |
| **400** | Service error relating to getting the messages |  -  |

[[Back to top]](#) [[Back to API list]](../README.md#documentation-for-api-endpoints) [[Back to Model list]](../README.md#documentation-for-models) [[Back to README]](../README.md)

<a id="regeneratemessagehandler"></a>
# **RegenerateMessageHandler**
> string RegenerateMessageHandler (string tRDataset, RegenerateMessageData regenerateMessageData)

Regenerate message

Regenerate message  Regenerate the assistant response to the last user message of a topic. This will delete the last message and replace it with a new message. The response will include Chunks first on the stream if the topic is using RAG. The structure will look like `[chunks]||mesage`. See docs.trieve.ai for more information.

### Example
```csharp
using System.Collections.Generic;
using System.Diagnostics;
using trieve_dotnet_client.Api;
using trieve_dotnet_client.Client;
using trieve_dotnet_client.Model;

namespace Example
{
    public class RegenerateMessageHandlerExample
    {
        public static void Main()
        {
            Configuration config = new Configuration();
            config.BasePath = "http://localhost:8090";
            // Configure API key authorization: ApiKey
            config.AddApiKey("Authorization", "YOUR_API_KEY");
            // Uncomment below to setup prefix (e.g. Bearer) for API key, if needed
            // config.AddApiKeyPrefix("Authorization", "Bearer");

            var apiInstance = new MessageApi(config);
            var tRDataset = "tRDataset_example";  // string | The dataset id to use for the request
            var regenerateMessageData = new RegenerateMessageData(); // RegenerateMessageData | JSON request payload to delete an agent message then regenerate it in a strem

            try
            {
                // Regenerate message
                string result = apiInstance.RegenerateMessageHandler(tRDataset, regenerateMessageData);
                Debug.WriteLine(result);
            }
            catch (ApiException  e)
            {
                Debug.Print("Exception when calling MessageApi.RegenerateMessageHandler: " + e.Message);
                Debug.Print("Status Code: " + e.ErrorCode);
                Debug.Print(e.StackTrace);
            }
        }
    }
}
```

#### Using the RegenerateMessageHandlerWithHttpInfo variant
This returns an ApiResponse object which contains the response data, status code and headers.

```csharp
try
{
    // Regenerate message
    ApiResponse<string> response = apiInstance.RegenerateMessageHandlerWithHttpInfo(tRDataset, regenerateMessageData);
    Debug.Write("Status Code: " + response.StatusCode);
    Debug.Write("Response Headers: " + response.Headers);
    Debug.Write("Response Body: " + response.Data);
}
catch (ApiException e)
{
    Debug.Print("Exception when calling MessageApi.RegenerateMessageHandlerWithHttpInfo: " + e.Message);
    Debug.Print("Status Code: " + e.ErrorCode);
    Debug.Print(e.StackTrace);
}
```

### Parameters

| Name | Type | Description | Notes |
|------|------|-------------|-------|
| **tRDataset** | **string** | The dataset id to use for the request |  |
| **regenerateMessageData** | [**RegenerateMessageData**](RegenerateMessageData.md) | JSON request payload to delete an agent message then regenerate it in a strem |  |

### Return type

**string**

### Authorization

[ApiKey](../README.md#ApiKey)

### HTTP request headers

 - **Content-Type**: application/json
 - **Accept**: text/plain, application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
| **200** | This will be a JSON response of a string containing the LLM&#39;s generated inference. Response if not streaming. |  -  |
| **400** | Service error relating to getting a chat completion |  -  |

[[Back to top]](#) [[Back to API list]](../README.md#documentation-for-api-endpoints) [[Back to Model list]](../README.md#documentation-for-models) [[Back to README]](../README.md)

